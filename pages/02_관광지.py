
import streamlit as st
import pandas as pd
import folium
from streamlit_folium import st_folium

# μ„μΈ μ£Όμ” κ΄€κ΄‘μ§€ λ°μ΄ν„°
places = [
    {"μ΄λ¦„": "κ²½λ³µκ¶", "μ„λ„": 37.579617, "κ²½λ„": 126.977041, "μ„¤λ…": "μ΅°μ„ μ μ •κ¶μ΄μ μ„μΈ λ€ν‘ κ¶κ¶"},
    {"μ΄λ¦„": "λ…λ™", "μ„λ„": 37.563757, "κ²½λ„": 126.982682, "μ„¤λ…": "μ‡Όν•‘κ³Ό λ¨Ήκ±°λ¦¬μ μ¤‘μ‹¬μ§€"},
    {"μ΄λ¦„": "λ‚¨μ‚°νƒ€μ›(Nμ„μΈνƒ€μ›)", "μ„λ„": 37.551169, "κ²½λ„": 126.988227, "μ„¤λ…": "μ„μΈμ μ „λ§ λ…μ†, μ•Όκ²½ λ…λ‹Ή"},
    {"μ΄λ¦„": "λ¶μ΄ν•μ¥λ§μ„", "μ„λ„": 37.582604, "κ²½λ„": 126.983998, "μ„¤λ…": "μ „ν†µκ³Ό ν„λ€κ°€ κ³µμ΅΄ν•λ” ν•μ¥ κ±°λ¦¬"},
    {"μ΄λ¦„": "ν™λ€κ±°λ¦¬", "μ„λ„": 37.555226, "κ²½λ„": 126.923943, "μ„¤λ…": "μ μκ³Ό μμ μ κ±°λ¦¬"},
    {"μ΄λ¦„": "λ™λ€λ¬Έλ””μμΈν”λΌμ(DDP)", "μ„λ„": 37.566478, "κ²½λ„": 127.009041, "μ„¤λ…": "λ―Έλμ  κ±΄μ¶•κ³Ό μ „μ‹μ κ³µκ°„"},
    {"μ΄λ¦„": "ν•κ°•κ³µμ›", "μ„λ„": 37.528708, "κ²½λ„": 126.934889, "μ„¤λ…": "μ„μΈ μ‹λ―Όμ λ€ν‘ ν΄μ‹ λ…μ†"},
    {"μ΄λ¦„": "μΈμ‚¬λ™", "μ„λ„": 37.574009, "κ²½λ„": 126.984913, "μ„¤λ…": "ν•κµ­ μ „ν†µ λ¬Έν™”μ™€ κ³µμ κ±°λ¦¬"},
    {"μ΄λ¦„": "λ΅―λ°μ›”λ“", "μ„λ„": 37.511000, "κ²½λ„": 127.098000, "μ„¤λ…": "λ„μ‹¬ μ† ν…λ§νν¬"},
    {"μ΄λ¦„": "μ μ‹¤ λ΅―λ°νƒ€μ›", "μ„λ„": 37.513068, "κ²½λ„": 127.102538, "μ„¤λ…": "ν•κµ­ μµκ³ μΈµ λΉλ”©κ³Ό μ „λ§λ€"},
]

df = pd.DataFrame(places)

# μ λ©
st.title("π—ΊοΈ μ™Έκµ­μΈμ΄ μΆ‹μ•„ν•λ” μ„μΈ κ΄€κ΄‘μ§€ Top10 μ§€λ„ (Folium)")

# μ§€λ„ μƒμ„± (μ„μΈ μ¤‘μ‹¬)
seoul_map = folium.Map(location=[37.5665, 126.9780], zoom_start=12)

# λΉ¨κ°„μƒ‰ λ§μ»¤ μ¶”κ°€
for _, row in df.iterrows():
    folium.Marker(
        location=[row["μ„λ„"], row["κ²½λ„"]],
        popup=f"<b>{row['μ΄λ¦„']}</b><br>{row['μ„¤λ…']}",
        tooltip=row["μ΄λ¦„"],
        icon=folium.Icon(color="red", icon="info-sign")
    ).add_to(seoul_map)

# μ§€λ„ ν‘μ‹ (ν¬κΈ° μ΅°μ •: κΈ°μ΅΄ λ€λΉ„ μ•½ 70%)
st_folium(seoul_map, width=490, height=350)

# κ΄€κ΄‘μ§€ μ„¤λ… ν…μ΄λΈ”
st.markdown("### π“ κ΄€κ΄‘μ§€ μ”μ•½")
st.dataframe(df[["μ΄λ¦„", "μ„¤λ…"]], use_container_width=True)
